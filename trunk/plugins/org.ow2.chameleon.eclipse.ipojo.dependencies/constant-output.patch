Index: metadata/src/main/java/org/apache/felix/ipojo/metadata/Element.java
===================================================================
--- metadata/src/main/java/org/apache/felix/ipojo/metadata/Element.java (révision 1173137)
+++ metadata/src/main/java/org/apache/felix/ipojo/metadata/Element.java (copie de travail)
@@ -1,4 +1,4 @@
-/*
+/*
  * Licensed to the Apache Software Foundation (ASF) under one
  * or more contributor license agreements.  See the NOTICE file
  * distributed with this work for additional information
@@ -20,7 +20,7 @@

 import java.util.ArrayList;
 import java.util.Collection;
-import java.util.HashMap;
+import java.util.LinkedHashMap;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
@@ -49,14 +49,14 @@
      * The map key is the qualified name of the attribute (<code>ns:name</code>)
      * The value is the attribute object.
      */
-    private Map m_attributes = new HashMap();
+    private Map m_attributes = new LinkedHashMap();

     /**
      * The map of the sub-element of the element (element name -> {@link Element}.
      * The map key is the element qualified name (ns:name).
      * The value is the array of element of this name.
      */
-    private Map m_elements = new HashMap();
+    private Map m_elements = new LinkedHashMap();

     /**
      * Creates an Element.
Index: core/pom.xml
===================================================================
--- core/pom.xml    (révision 1173137)
+++ core/pom.xml    (copie de travail)
@@ -55,7 +55,7 @@
     <dependency>
       <groupId>org.apache.felix</groupId>
       <artifactId>org.apache.felix.ipojo.metadata</artifactId>
-      <version>1.4.0</version>
+      <version>1.5.0-SNAPSHOT</version>
     </dependency>
     <dependency>
       <groupId>asm</groupId>
Index: manipulator/src/main/java/org/apache/felix/ipojo/manipulation/ClassChecker.java
===================================================================
--- manipulator/src/main/java/org/apache/felix/ipojo/manipulation/ClassChecker.java (révision 1173137)
+++ manipulator/src/main/java/org/apache/felix/ipojo/manipulation/ClassChecker.java (copie de travail)
@@ -19,7 +19,7 @@
 package org.apache.felix.ipojo.manipulation;

 import java.util.ArrayList;
-import java.util.HashMap;
+import java.util.TreeMap;
 import java.util.List;
 import java.util.Map;

@@ -51,7 +51,7 @@
     /**
      * Field map [field name, type] discovered in the component class.
      */
-    private Map<String, String> m_fields = new HashMap<String, String>();
+    private Map<String, String> m_fields = new TreeMap<String, String>();

     /**
      * Method List of method descriptor discovered in the component class.
Index: manipulator/src/main/java/org/apache/felix/ipojo/manipulation/annotations/MetadataCollector.java
===================================================================
--- manipulator/src/main/java/org/apache/felix/ipojo/manipulation/annotations/MetadataCollector.java    (révision 1173137)
+++ manipulator/src/main/java/org/apache/felix/ipojo/manipulation/annotations/MetadataCollector.java    (copie de travail)
@@ -21,7 +21,8 @@
 import java.io.ByteArrayInputStream;
 import java.io.IOException;
 import java.io.InputStream;
-import java.util.HashMap;
+import java.util.LinkedHashMap;
+import java.util.TreeMap;
 import java.util.Iterator;
 import java.util.Map;
 import java.util.Set;
@@ -74,14 +75,14 @@
      * Map of [element ids, element].
      * This map is used to easily get an already created element.
      */
-    private Map<String, Element> m_ids = new HashMap<String, Element>();
+    private Map<String, Element> m_ids = new TreeMap<String, Element>();

     /**
      * Map of [element, referto].
      * This map is used to recreate the element hierarchy.
      * Stored element are added under referred element.
      */
-    private Map<Element, String> m_elements = new HashMap<Element, String>();
+    private Map<Element, String> m_elements = new LinkedHashMap<Element, String>();

     /**
      * Instance declaration.
@@ -126,8 +127,8 @@
      * @see org.objectweb.asm.ClassAdapter#visit(int, int, java.lang.String, java.lang.String, java.lang.String, java.lang.String[])
      */
     public void visit(int version, int access, String name, String signature, String superName, String[] interfaces) {
-        m_ids = new HashMap<String, Element>();
-        m_elements = new HashMap<Element, String>();
+        m_ids = new TreeMap<String, Element>();
+        m_elements = new LinkedHashMap<Element, String>();
         m_className = name;
     }

Index: manipulator/pom.xml
===================================================================
--- manipulator/pom.xml (révision 1173137)
+++ manipulator/pom.xml (copie de travail)
@@ -48,7 +48,7 @@
       <dependency>
         <groupId>org.apache.felix</groupId>
         <artifactId>org.apache.felix.ipojo.metadata</artifactId>
-        <version>1.4.0</version>
+        <version>1.5.0-SNAPSHOT</version>
       </dependency>
       <dependency>
         <groupId>org.apache.felix</groupId>
